<%= stylesheet_link_tag 'style', :media => 'all' %>
<div class='wrapper'>
<div class='container'>
  <%= render :partial => "/layouts/menu"%>
<h2><%= t('forem.admin.group.members', :group => forem_emojify(@group.name)) %></h2>
<%= link_to t('back_to_groups', :scope => "forem.admin"), admin_groups_path %>
<div class="row">
  <h3><%= t('.add_a_new_member') %></h3>
  <%= form_tag "/bulletin/admin/groups/#{@group.id}/members/add_with_username" do %>
    <p>
      <%= label_tag "email" %>
      <%= email_field_tag "email" %>
      (e.g. john.smith@example.com)
    </p>
    <p class="span1">
      <%= submit_tag t(".add_member"), :class => "btn btn-primary" %>
    </p>
  <% end %>
</div>

<% if @group.members.any? %>
  <h3><%= t('.current_members') %></h3>
  <div class="row">
    <ul id='members'>
      <% @group.members.each do |member| %>
        <li><%= member.to_s %></li>
      <% end %>
    </ul>
  </div>
<% end %>


<script>
  $("#user_id").select2({
    containerCssClass: "span5",
    ajax: {
      url: "<%= forem.admin_user_autocomplete_url %>",
      data: function(term, page) {
        return { "term": term }
      },
      results: function(data, page) {
        return { results: data };
      }
    },
    formatResult: function(result) {
      return result.identifier;
    },
    formatSelection: function(result) {
      return result.identifier;
    }
  });
</script>
</div>
<%= render :partial => "/layouts/footer"%>
</div>
